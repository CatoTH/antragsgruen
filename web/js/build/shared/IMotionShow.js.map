{"version":3,"sources":["shared/IMotionShow.ts"],"names":["IMotionShow","initContactShow","$","on","ev","preventDefault","this","addClass","removeClass","initExpandableList","document","querySelectorAll","forEach","el","querySelector","addEventListener","classList","add","remove","initAmendmentTextMode","$section","target","parents","find","parent","initDelSubmit","form","bootbox","confirm","__t","result","submit","initCmdEnterSubmit","originalEvent","currentTarget","first","trigger","initDataTableActions","getElementById"],"mappings":"AAAA,MAAMA,YACK,eAAAC,GAEHC,EAAE,4BAA4BC,GAAG,SAAS,SAAUC,GAChDA,EAAGC,iBACHH,EAAEI,MAAMC,SAAS,UACjBL,EAAE,+BAA+BM,YAAY,SACjD,GACJ,CAEO,kBAAAC,GAEHC,SAASC,iBAAiB,mBAAmBC,SAASC,IAClDA,EAAGC,cAAc,eAAeC,iBAAiB,SAAS,KACtDF,EAAGC,cAAc,cAAcE,UAAUC,IAAI,UAC7CJ,EAAGC,cAAc,aAAaE,UAAUE,OAAO,UAC/CL,EAAGC,cAAc,eAAeE,UAAUC,IAAI,SAAS,GACzD,GAEV,CAEO,qBAAAE,GAEHjB,EAAE,gDAAgDC,GAAG,SAAUC,IAC3D,MAAMgB,EAAWlB,EAAEE,EAAGiB,QAAQC,QAAQ,qBACtCF,EAASG,KAAK,+CAA+CC,SAASjB,SAAS,YAC/Ea,EAASG,KAAK,4CAA4CC,SAAShB,YAAY,YAC/EY,EAASG,KAAK,mBAAmBhB,SAAS,UAC1Ca,EAASG,KAAK,oBAAoBf,YAAY,UAC9CJ,EAAGC,gBAAgB,IAEvBH,EAAE,6CAA6CC,GAAG,SAAUC,IACxD,MAAMgB,EAAWlB,EAAEE,EAAGiB,QAAQC,QAAQ,qBACtCF,EAASG,KAAK,+CAA+CC,SAAShB,YAAY,YAClFY,EAASG,KAAK,4CAA4CC,SAASjB,SAAS,YAC5Ea,EAASG,KAAK,mBAAmBf,YAAY,UAC7CY,EAASG,KAAK,oBAAoBhB,SAAS,UAC3CH,EAAGC,gBAAgB,GAE3B,CAEO,aAAAoB,GACHvB,EAAE,gBAAgBC,GAAG,UAAWC,IAC5BA,EAAGC,iBACH,IAAIqB,EAAwBtB,EAAGiB,OAC/BM,QAAQC,QAAQC,IAAI,MAAO,gBAAgB,SAAUC,GAC7CA,GAEAJ,EAAKK,QAEb,GAAE,GAEV,CAEO,kBAAAC,GACH9B,EAAEQ,UAAUP,GAAG,WAAY,iBAAkBC,IACzC,GAAIA,EAAG6B,cAAuB,SAAqC,KAAhC7B,EAAG6B,cAAuB,QAAU,CACnD/B,EAAEE,EAAG8B,eACXZ,QAAQ,QAAQa,QAAQZ,KAAK,uBAAuBa,QAAQ,QAC1E,IAER,CAEO,oBAAAC,GACH3B,SAASC,iBAAiB,mBAAmBC,SAAQC,IACjDA,EAAGE,iBAAiB,SAAUX,IAC1BA,EAAGC,iBACHQ,EAAGG,UAAUC,IAAI,UACjBP,SAAS4B,eAAe,gBAAgBtB,UAAUE,OAAO,SAAS,GACpE,IAGNR,SAASC,iBAAiB,iCAAiCC,SAAQC,IAChEA,EAAGE,iBAAiB,SAAS,KACzBL,SAASI,cAAc,8BAA8BE,UAAUC,IAAI,UACnEP,SAASI,cAAc,4BAA4BE,UAAUE,OAAO,SAAS,GAC/E,GAET","file":"IMotionShow.js","sourcesContent":["class IMotionShow {\n    public initContactShow()\n    {\n        $(\".motionData .contactShow\").on(\"click\", function (ev) {\n            ev.preventDefault();\n            $(this).addClass(\"hidden\");\n            $(\".motionData .contactDetails\").removeClass(\"hidden\");\n        });\n    }\n\n    public initExpandableList()\n    {\n        document.querySelectorAll('.expandableList').forEach((el: HTMLDivElement) => {\n            el.querySelector('.btnShowAll').addEventListener('click', () => {\n                el.querySelector('.shortList').classList.add('hidden');\n                el.querySelector('.fullList').classList.remove('hidden');\n                el.querySelector('.btnShowAll').classList.add('hidden');\n            });\n        });\n    }\n\n    public initAmendmentTextMode()\n    {\n        $('.amendmentTextModeSelector a.showOnlyChanges').on('click', (ev) => {\n            const $section = $(ev.target).parents(\".motionTextHolder\");\n            $section.find(\".amendmentTextModeSelector .showOnlyChanges\").parent().addClass('selected');\n            $section.find(\".amendmentTextModeSelector .showFullText\").parent().removeClass('selected');\n            $section.find(\".fullMotionText\").addClass('hidden');\n            $section.find(\".onlyChangedText\").removeClass('hidden');\n            ev.preventDefault();\n        });\n        $('.amendmentTextModeSelector a.showFullText').on('click', (ev) => {\n            const $section = $(ev.target).parents(\".motionTextHolder\");\n            $section.find(\".amendmentTextModeSelector .showOnlyChanges\").parent().removeClass('selected');\n            $section.find(\".amendmentTextModeSelector .showFullText\").parent().addClass('selected');\n            $section.find(\".fullMotionText\").removeClass('hidden');\n            $section.find(\".onlyChangedText\").addClass('hidden');\n            ev.preventDefault();\n        });\n    }\n\n    public initDelSubmit() {\n        $(\"form.delLink\").on(\"submit\", (ev) => {\n            ev.preventDefault();\n            let form: HTMLFormElement = ev.target as HTMLFormElement;\n            bootbox.confirm(__t(\"std\", \"del_confirm\"), function (result) {\n                if (result) {\n                    // noinspection JSDeprecatedSymbols\n                    form.submit(); // Native submit() function, not the jQuery one\n                }\n            });\n        });\n    }\n\n    public initCmdEnterSubmit() {\n        $(document).on('keypress', 'form textarea', (ev) => {\n            if (ev.originalEvent['metaKey'] && ev.originalEvent['keyCode'] === 13) {\n                let $textarea = $(ev.currentTarget);\n                $textarea.parents(\"form\").first().find(\"button[type=submit]\").trigger(\"click\");\n            }\n        });\n    }\n\n    public initDataTableActions() {\n        document.querySelectorAll('.tagAdderHolder').forEach(el => {\n            el.addEventListener('click', (ev) => {\n                ev.preventDefault();\n                el.classList.add('hidden');\n                document.getElementById('tagAdderForm').classList.remove('hidden');\n            });\n        });\n\n        document.querySelectorAll('.motionData .btnHistoryOpener').forEach(el => {\n           el.addEventListener('click', () => {\n               document.querySelector('.motionData .historyOpener').classList.add('hidden');\n               document.querySelector('.motionData .fullHistory').classList.remove('hidden');\n           });\n        });\n    }\n}\n"]}