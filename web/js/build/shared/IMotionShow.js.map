{"version":3,"sources":["shared/IMotionShow.ts"],"names":["IMotionShow","initContactShow","$","on","ev","preventDefault","this","addClass","removeClass","initAgreeToProposal","stopPropagation","initExpandableList","document","querySelectorAll","forEach","el","querySelector","addEventListener","classList","add","remove","initAmendmentTextMode","$section","target","parents","find","parent","initDelSubmit","form","bootbox","confirm","__t","result","submit","initCmdEnterSubmit","originalEvent","key","currentTarget","first","trigger","initDataTableActions","getElementById"],"mappings":"AAAA,MAAMA,YACK,eAAAC,GAEHC,EAAE,4BAA4BC,GAAG,QAAS,SAAUC,GAChDA,EAAGC,iBACHH,EAAEI,MAAMC,SAAS,UACjBL,EAAE,+BAA+BM,YAAY,SACjD,EACJ,CAEO,mBAAAC,GAEHP,EAAE,uCAAuCC,GAAG,QAAUC,IAClDA,EAAGC,iBACHD,EAAGM,kBACHR,EAAE,oBAAoBM,YAAY,eAAeD,SAAS,aAElE,CAEO,kBAAAI,GAEHC,SAASC,iBAAiB,mBAAmBC,QAASC,IAClDA,EAAGC,cAAc,eAAeC,iBAAiB,QAAS,KACtDF,EAAGC,cAAc,cAAcE,UAAUC,IAAI,UAC7CJ,EAAGC,cAAc,aAAaE,UAAUE,OAAO,UAC/CL,EAAGC,cAAc,eAAeE,UAAUC,IAAI,aAG1D,CAEO,qBAAAE,GAEHnB,EAAE,gDAAgDC,GAAG,QAAUC,IAC3D,MAAMkB,EAAWpB,EAAEE,EAAGmB,QAAQC,QAAQ,qBACtCF,EAASG,KAAK,+CAA+CC,SAASnB,SAAS,YAC/Ee,EAASG,KAAK,4CAA4CC,SAASlB,YAAY,YAC/Ec,EAASG,KAAK,mBAAmBlB,SAAS,UAC1Ce,EAASG,KAAK,oBAAoBjB,YAAY,UAC9CJ,EAAGC,mBAEPH,EAAE,6CAA6CC,GAAG,QAAUC,IACxD,MAAMkB,EAAWpB,EAAEE,EAAGmB,QAAQC,QAAQ,qBACtCF,EAASG,KAAK,+CAA+CC,SAASlB,YAAY,YAClFc,EAASG,KAAK,4CAA4CC,SAASnB,SAAS,YAC5Ee,EAASG,KAAK,mBAAmBjB,YAAY,UAC7Cc,EAASG,KAAK,oBAAoBlB,SAAS,UAC3CH,EAAGC,kBAEX,CAEO,aAAAsB,GACHzB,EAAE,gBAAgBC,GAAG,SAAWC,IAC5BA,EAAGC,iBACH,IAAIuB,EAAwBxB,EAAGmB,OAC/BM,QAAQC,QAAQC,IAAI,MAAO,eAAgB,SAAUC,GAC7CA,GAEAJ,EAAKK,QAEb,IAER,CAEO,kBAAAC,GACHhC,EAAEU,UAAUT,GAAG,WAAY,gBAAkBC,IACzC,GAAIA,EAAG+B,cAAuB,SAA8B,UAAzB/B,EAAG+B,cAAcC,IAAiB,CACjDlC,EAAEE,EAAGiC,eACXb,QAAQ,QAAQc,QAAQb,KAAK,uBAAuBc,QAAQ,QAC1E,GAER,CAEO,oBAAAC,GACH5B,SAASC,iBAAiB,mBAAmBC,QAAQC,IACjDA,EAAGE,iBAAiB,QAAUb,IAC1BA,EAAGC,iBACHU,EAAGG,UAAUC,IAAI,UACjBP,SAAS6B,eAAe,gBAAgBvB,UAAUE,OAAO,cAIjER,SAASC,iBAAiB,iCAAiCC,QAAQC,IAChEA,EAAGE,iBAAiB,QAAS,KACzBL,SAASI,cAAc,8BAA8BE,UAAUC,IAAI,UACnEP,SAASI,cAAc,4BAA4BE,UAAUE,OAAO,aAG/E","file":"IMotionShow.js","sourcesContent":["class IMotionShow {\n    public initContactShow()\n    {\n        $(\".motionData .contactShow\").on(\"click\", function (ev) {\n            ev.preventDefault();\n            $(this).addClass(\"hidden\");\n            $(\".motionData .contactDetails\").removeClass(\"hidden\");\n        });\n    }\n\n    public initAgreeToProposal()\n    {\n        $(\".agreeToProposal .btnUpdateDecision\").on(\"click\", (ev) => {\n            ev.preventDefault();\n            ev.stopPropagation();\n            $(\".agreeToProposal\").removeClass(\"notUpdating\").addClass(\"updating\");\n        });\n    }\n\n    public initExpandableList()\n    {\n        document.querySelectorAll('.expandableList').forEach((el: HTMLDivElement) => {\n            el.querySelector('.btnShowAll').addEventListener('click', () => {\n                el.querySelector('.shortList').classList.add('hidden');\n                el.querySelector('.fullList').classList.remove('hidden');\n                el.querySelector('.btnShowAll').classList.add('hidden');\n            });\n        });\n    }\n\n    public initAmendmentTextMode()\n    {\n        $('.amendmentTextModeSelector a.showOnlyChanges').on('click', (ev) => {\n            const $section = $(ev.target).parents(\".motionTextHolder\");\n            $section.find(\".amendmentTextModeSelector .showOnlyChanges\").parent().addClass('selected');\n            $section.find(\".amendmentTextModeSelector .showFullText\").parent().removeClass('selected');\n            $section.find(\".fullMotionText\").addClass('hidden');\n            $section.find(\".onlyChangedText\").removeClass('hidden');\n            ev.preventDefault();\n        });\n        $('.amendmentTextModeSelector a.showFullText').on('click', (ev) => {\n            const $section = $(ev.target).parents(\".motionTextHolder\");\n            $section.find(\".amendmentTextModeSelector .showOnlyChanges\").parent().removeClass('selected');\n            $section.find(\".amendmentTextModeSelector .showFullText\").parent().addClass('selected');\n            $section.find(\".fullMotionText\").removeClass('hidden');\n            $section.find(\".onlyChangedText\").addClass('hidden');\n            ev.preventDefault();\n        });\n    }\n\n    public initDelSubmit() {\n        $(\"form.delLink\").on(\"submit\", (ev) => {\n            ev.preventDefault();\n            let form: HTMLFormElement = ev.target as HTMLFormElement;\n            bootbox.confirm(__t(\"std\", \"del_confirm\"), function (result) {\n                if (result) {\n                    // noinspection JSDeprecatedSymbols\n                    form.submit(); // Native submit() function, not the jQuery one\n                }\n            });\n        });\n    }\n\n    public initCmdEnterSubmit() {\n        $(document).on('keypress', 'form textarea', (ev) => {\n            if (ev.originalEvent['metaKey'] && ev.originalEvent.key === 'Enter') {\n                let $textarea = $(ev.currentTarget);\n                $textarea.parents(\"form\").first().find(\"button[type=submit]\").trigger(\"click\");\n            }\n        });\n    }\n\n    public initDataTableActions() {\n        document.querySelectorAll('.tagAdderHolder').forEach(el => {\n            el.addEventListener('click', (ev) => {\n                ev.preventDefault();\n                el.classList.add('hidden');\n                document.getElementById('tagAdderForm').classList.remove('hidden');\n            });\n        });\n\n        document.querySelectorAll('.motionData .btnHistoryOpener').forEach(el => {\n           el.addEventListener('click', () => {\n               document.querySelector('.motionData .historyOpener').classList.add('hidden');\n               document.querySelector('.motionData .fullHistory').classList.remove('hidden');\n           });\n        });\n    }\n}\n"]}