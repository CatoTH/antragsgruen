{"version":3,"sources":["shared/IMotionShow.ts"],"names":["IMotionShow","initContactShow","$","on","ev","preventDefault","this","addClass","removeClass","initAgreeToProposal","console","log","length","stopPropagation","initExpandableList","document","querySelectorAll","forEach","el","querySelector","addEventListener","classList","add","remove","initAmendmentTextMode","$section","target","parents","find","parent","initDelSubmit","form","bootbox","confirm","__t","result","submit","initCmdEnterSubmit","originalEvent","currentTarget","first","trigger","initDataTableActions","getElementById"],"mappings":"AAAA,MAAMA,YACK,eAAAC,GAEHC,EAAE,4BAA4BC,GAAG,QAAS,SAAUC,GAChDA,EAAGC,iBACHH,EAAEI,MAAMC,SAAS,UACjBL,EAAE,+BAA+BM,YAAY,SACjD,EACJ,CAEO,mBAAAC,GAEHC,QAAQC,IAAIT,EAAE,uCAAuCU,QACrDV,EAAE,uCAAuCC,GAAG,QAAUC,IAClDA,EAAGC,iBACHD,EAAGS,kBACHX,EAAE,oBAAoBM,YAAY,eAAeD,SAAS,aAElE,CAEO,kBAAAO,GAEHC,SAASC,iBAAiB,mBAAmBC,QAASC,IAClDA,EAAGC,cAAc,eAAeC,iBAAiB,QAAS,KACtDF,EAAGC,cAAc,cAAcE,UAAUC,IAAI,UAC7CJ,EAAGC,cAAc,aAAaE,UAAUE,OAAO,UAC/CL,EAAGC,cAAc,eAAeE,UAAUC,IAAI,aAG1D,CAEO,qBAAAE,GAEHtB,EAAE,gDAAgDC,GAAG,QAAUC,IAC3D,MAAMqB,EAAWvB,EAAEE,EAAGsB,QAAQC,QAAQ,qBACtCF,EAASG,KAAK,+CAA+CC,SAAStB,SAAS,YAC/EkB,EAASG,KAAK,4CAA4CC,SAASrB,YAAY,YAC/EiB,EAASG,KAAK,mBAAmBrB,SAAS,UAC1CkB,EAASG,KAAK,oBAAoBpB,YAAY,UAC9CJ,EAAGC,mBAEPH,EAAE,6CAA6CC,GAAG,QAAUC,IACxD,MAAMqB,EAAWvB,EAAEE,EAAGsB,QAAQC,QAAQ,qBACtCF,EAASG,KAAK,+CAA+CC,SAASrB,YAAY,YAClFiB,EAASG,KAAK,4CAA4CC,SAAStB,SAAS,YAC5EkB,EAASG,KAAK,mBAAmBpB,YAAY,UAC7CiB,EAASG,KAAK,oBAAoBrB,SAAS,UAC3CH,EAAGC,kBAEX,CAEO,aAAAyB,GACH5B,EAAE,gBAAgBC,GAAG,SAAWC,IAC5BA,EAAGC,iBACH,IAAI0B,EAAwB3B,EAAGsB,OAC/BM,QAAQC,QAAQC,IAAI,MAAO,eAAgB,SAAUC,GAC7CA,GAEAJ,EAAKK,QAEb,IAER,CAEO,kBAAAC,GACHnC,EAAEa,UAAUZ,GAAG,WAAY,gBAAkBC,IACzC,GAAIA,EAAGkC,cAAuB,SAAqC,KAAhClC,EAAGkC,cAAuB,QAAU,CACnDpC,EAAEE,EAAGmC,eACXZ,QAAQ,QAAQa,QAAQZ,KAAK,uBAAuBa,QAAQ,QAC1E,GAER,CAEO,oBAAAC,GACH3B,SAASC,iBAAiB,mBAAmBC,QAAQC,IACjDA,EAAGE,iBAAiB,QAAUhB,IAC1BA,EAAGC,iBACHa,EAAGG,UAAUC,IAAI,UACjBP,SAAS4B,eAAe,gBAAgBtB,UAAUE,OAAO,cAIjER,SAASC,iBAAiB,iCAAiCC,QAAQC,IAChEA,EAAGE,iBAAiB,QAAS,KACzBL,SAASI,cAAc,8BAA8BE,UAAUC,IAAI,UACnEP,SAASI,cAAc,4BAA4BE,UAAUE,OAAO,aAG/E","file":"IMotionShow.js","sourcesContent":["class IMotionShow {\n    public initContactShow()\n    {\n        $(\".motionData .contactShow\").on(\"click\", function (ev) {\n            ev.preventDefault();\n            $(this).addClass(\"hidden\");\n            $(\".motionData .contactDetails\").removeClass(\"hidden\");\n        });\n    }\n\n    public initAgreeToProposal()\n    {\n        console.log($(\".agreeToProposal .btnUpdateDecision\").length);\n        $(\".agreeToProposal .btnUpdateDecision\").on(\"click\", (ev) => {\n            ev.preventDefault();\n            ev.stopPropagation();\n            $(\".agreeToProposal\").removeClass(\"notUpdating\").addClass(\"updating\");\n        });\n    }\n\n    public initExpandableList()\n    {\n        document.querySelectorAll('.expandableList').forEach((el: HTMLDivElement) => {\n            el.querySelector('.btnShowAll').addEventListener('click', () => {\n                el.querySelector('.shortList').classList.add('hidden');\n                el.querySelector('.fullList').classList.remove('hidden');\n                el.querySelector('.btnShowAll').classList.add('hidden');\n            });\n        });\n    }\n\n    public initAmendmentTextMode()\n    {\n        $('.amendmentTextModeSelector a.showOnlyChanges').on('click', (ev) => {\n            const $section = $(ev.target).parents(\".motionTextHolder\");\n            $section.find(\".amendmentTextModeSelector .showOnlyChanges\").parent().addClass('selected');\n            $section.find(\".amendmentTextModeSelector .showFullText\").parent().removeClass('selected');\n            $section.find(\".fullMotionText\").addClass('hidden');\n            $section.find(\".onlyChangedText\").removeClass('hidden');\n            ev.preventDefault();\n        });\n        $('.amendmentTextModeSelector a.showFullText').on('click', (ev) => {\n            const $section = $(ev.target).parents(\".motionTextHolder\");\n            $section.find(\".amendmentTextModeSelector .showOnlyChanges\").parent().removeClass('selected');\n            $section.find(\".amendmentTextModeSelector .showFullText\").parent().addClass('selected');\n            $section.find(\".fullMotionText\").removeClass('hidden');\n            $section.find(\".onlyChangedText\").addClass('hidden');\n            ev.preventDefault();\n        });\n    }\n\n    public initDelSubmit() {\n        $(\"form.delLink\").on(\"submit\", (ev) => {\n            ev.preventDefault();\n            let form: HTMLFormElement = ev.target as HTMLFormElement;\n            bootbox.confirm(__t(\"std\", \"del_confirm\"), function (result) {\n                if (result) {\n                    // noinspection JSDeprecatedSymbols\n                    form.submit(); // Native submit() function, not the jQuery one\n                }\n            });\n        });\n    }\n\n    public initCmdEnterSubmit() {\n        $(document).on('keypress', 'form textarea', (ev) => {\n            if (ev.originalEvent['metaKey'] && ev.originalEvent['keyCode'] === 13) {\n                let $textarea = $(ev.currentTarget);\n                $textarea.parents(\"form\").first().find(\"button[type=submit]\").trigger(\"click\");\n            }\n        });\n    }\n\n    public initDataTableActions() {\n        document.querySelectorAll('.tagAdderHolder').forEach(el => {\n            el.addEventListener('click', (ev) => {\n                ev.preventDefault();\n                el.classList.add('hidden');\n                document.getElementById('tagAdderForm').classList.remove('hidden');\n            });\n        });\n\n        document.querySelectorAll('.motionData .btnHistoryOpener').forEach(el => {\n           el.addEventListener('click', () => {\n               document.querySelector('.motionData .historyOpener').classList.add('hidden');\n               document.querySelector('.motionData .fullHistory').classList.remove('hidden');\n           });\n        });\n    }\n}\n"]}