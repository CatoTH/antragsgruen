{"version":3,"sources":["shared/IMotionShow.ts","shared/IMotionShow.js"],"names":["IMotionShow","initContactShow","$","on","ev","preventDefault","this","addClass","removeClass","initAmendmentTextMode","$section","target","parents","find","parent","initDelSubmit","form","bootbox","confirm","__t","result","submit","initCmdEnterSubmit","document","originalEvent","currentTarget","first","trigger","initDataTableActions","querySelectorAll","forEach","el","addEventListener","classList","add","getElementById","remove","querySelector"],"mappings":"AAAA,MAAMA,YACKC,kBAEHC,EAAE,4BAA4BC,GAAG,SAAS,SAAUC,GAChDA,EAAGC,iBACHH,EAAEI,MAAMC,SAAS,UACjBL,EAAE,+BAA+BM,YAAY,SACjD,GACJ,CACOC,wBAEHP,EAAE,gDAAgDC,GAAG,SAAUC,IAC3D,MAAMM,EAAWR,EAAEE,EAAGO,QAAQC,QAAQ,qBACtCF,EAASG,KAAK,+CAA+CC,SAASP,SAAS,YAC/EG,EAASG,KAAK,4CAA4CC,SAASN,YAAY,YAC/EE,EAASG,KAAK,mBAAmBN,SAAS,UAC1CG,EAASG,KAAK,oBAAoBL,YAAY,UAC9CJ,EAAGC,gBAAgB,IAEvBH,EAAE,6CAA6CC,GAAG,SAAUC,IACxD,MAAMM,EAAWR,EAAEE,EAAGO,QAAQC,QAAQ,qBACtCF,EAASG,KAAK,+CAA+CC,SAASN,YAAY,YAClFE,EAASG,KAAK,4CAA4CC,SAASP,SAAS,YAC5EG,EAASG,KAAK,mBAAmBL,YAAY,UAC7CE,EAASG,KAAK,oBAAoBN,SAAS,UAC3CH,EAAGC,gBAAgB,GAE3B,CAEOU,gBACHb,EAAE,gBAAgBC,GAAG,UAAWC,IAC5BA,EAAGC,iBACH,IAAIW,EAAwBZ,EAAGO,OAC/BM,QAAQC,QAAQC,IAAI,MAAO,gBAAgB,SAAUC,GAC7CA,GAEAJ,EAAKK,QAEb,GAAE,GAEV,CAEOC,qBACHpB,EAAEqB,UAAUpB,GAAG,WAAY,iBAAkBC,IACzC,GAAIA,EAAGoB,cAAuB,SAAqC,KAAhCpB,EAAGoB,cAAuB,QAAU,CACnDtB,EAAEE,EAAGqB,eACXb,QAAQ,QAAQc,QAAQb,KAAK,uBAAuBc,QAAQ,QCH1E,IDMR,CAEOC,uBACHL,SAASM,iBAAiB,mBAAmBC,SAAQC,IACjDA,EAAGC,iBAAiB,SAAU5B,IAC1BA,EAAGC,iBACH0B,EAAGE,UAAUC,IAAI,UACjBX,SAASY,eAAe,gBAAgBF,UAAUG,OAAO,SAAS,GACpE,IAGNb,SAASM,iBAAiB,iCAAiCC,SAAQC,IAChEA,EAAGC,iBAAiB,SAAS,KACzBT,SAASc,cAAc,8BAA8BJ,UAAUC,IAAI,UACnEX,SAASc,cAAc,4BAA4BJ,UAAUG,OAAO,SAAS,GAC/E,GAET","file":"IMotionShow.js","sourcesContent":["class IMotionShow {\n    public initContactShow()\n    {\n        $(\".motionData .contactShow\").on(\"click\", function (ev) {\n            ev.preventDefault();\n            $(this).addClass(\"hidden\");\n            $(\".motionData .contactDetails\").removeClass(\"hidden\");\n        });\n    }\n    public initAmendmentTextMode()\n    {\n        $('.amendmentTextModeSelector a.showOnlyChanges').on('click', (ev) => {\n            const $section = $(ev.target).parents(\".motionTextHolder\");\n            $section.find(\".amendmentTextModeSelector .showOnlyChanges\").parent().addClass('selected');\n            $section.find(\".amendmentTextModeSelector .showFullText\").parent().removeClass('selected');\n            $section.find(\".fullMotionText\").addClass('hidden');\n            $section.find(\".onlyChangedText\").removeClass('hidden');\n            ev.preventDefault();\n        });\n        $('.amendmentTextModeSelector a.showFullText').on('click', (ev) => {\n            const $section = $(ev.target).parents(\".motionTextHolder\");\n            $section.find(\".amendmentTextModeSelector .showOnlyChanges\").parent().removeClass('selected');\n            $section.find(\".amendmentTextModeSelector .showFullText\").parent().addClass('selected');\n            $section.find(\".fullMotionText\").removeClass('hidden');\n            $section.find(\".onlyChangedText\").addClass('hidden');\n            ev.preventDefault();\n        });\n    }\n\n    public initDelSubmit() {\n        $(\"form.delLink\").on(\"submit\", (ev) => {\n            ev.preventDefault();\n            let form: HTMLFormElement = ev.target as HTMLFormElement;\n            bootbox.confirm(__t(\"std\", \"del_confirm\"), function (result) {\n                if (result) {\n                    // noinspection JSDeprecatedSymbols\n                    form.submit(); // Native submit() function, not the jQuery one\n                }\n            });\n        });\n    }\n\n    public initCmdEnterSubmit() {\n        $(document).on('keypress', 'form textarea', (ev) => {\n            if (ev.originalEvent['metaKey'] && ev.originalEvent['keyCode'] === 13) {\n                let $textarea = $(ev.currentTarget);\n                $textarea.parents(\"form\").first().find(\"button[type=submit]\").trigger(\"click\");\n            }\n        });\n    }\n\n    public initDataTableActions() {\n        document.querySelectorAll('.tagAdderHolder').forEach(el => {\n            el.addEventListener('click', (ev) => {\n                ev.preventDefault();\n                el.classList.add('hidden');\n                document.getElementById('tagAdderForm').classList.remove('hidden');\n            });\n        });\n\n        document.querySelectorAll('.motionData .btnHistoryOpener').forEach(el => {\n           el.addEventListener('click', () => {\n               document.querySelector('.motionData .historyOpener').classList.add('hidden');\n               document.querySelector('.motionData .fullHistory').classList.remove('hidden');\n           });\n        });\n    }\n}\n",null]}