!function(l){var a=l("#antragsgruenScript"),t=requirejs.config({baseUrl:a.data("resource-base")+"js/build/"});l("[data-antragsgruen-load-class]").each(function(){var a=l(this).data("antragsgruen-load-class");t([a])}),l("[data-antragsgruen-widget]").each(function(){var e=l(this),n=e.data("antragsgruen-widget");t([n],function(a){var t=n.split("/");new a[t[t.length-1]](e)})}),l(".jsProtectionHint").each(function(){var a=l(this);l('<input type="hidden" name="jsprotection">').attr("value",a.data("value")).appendTo(a.parent()),a.remove()}),bootbox.setLocale(l("html").attr("lang").split("_")[0]),l(document).on("click",".amendmentAjaxTooltip",function(a){var n=l(a.currentTarget);if("0"==n.data("initialized")){n.data("initialized","1");var t="popover popover-amendment-ajax "+n.data("tooltip-extra-class"),e="right";n.data("placement")&&(e=n.data("placement")),n.popover({html:!0,trigger:"manual",container:"body",template:'<div class="'+t+'" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',placement:e,content:function(){var t="pop_"+(new Date).getTime(),a='<div id="'+t+'">Loading...</div>',e=n.data("url");return l.get(e,function(a){l("#"+t).html(a)}),a}})}l(".amendmentAjaxTooltip").not(n).popover("hide"),l(".ajaxAmendment").parents(".popover").remove(),n.popover("toggle")}),l(document).on("click",function(a){var t=l(a.target);t.hasClass("amendmentAjaxTooltip")||t.hasClass("popover")||0!=t.parents(".amendmentAjaxTooltip").length||0!=t.parents(".popover").length||(l(".amendmentAjaxTooltip").popover("hide"),l(".ajaxAmendment").parents(".popover").remove())});var s=function(a){var p="0.";a.find("> li.agendaItem").each(function(){var a=l(this),t=a.data("code"),e="",n=a.find("> ol");if("#"==t){var o=p.split(".");if(o[0].match(/^[a-y]$/i))o[0]=String.fromCharCode(o[0].charCodeAt(0)+1);else{var i=o[0].match(/^(.*[^0-9])?([0-9]*)$/),r=void 0===i[1]?"":i[1],d=parseInt(""==i[2]?"1":i[2]);o[0]=r+ ++d}p=e=o.join(".")}else e=p=t+"";a.find("> div > h3 .code").text(e),0<n.length&&s(n)})};l("ol.motionListWithinAgenda").on("antragsgruen:agenda-change",function(){s(l(this))}).trigger("antragsgruen:agenda-change"),window.__t=function(a,t){return"undefined"==typeof ANTRAGSGRUEN_STRINGS?"@TRANSLATION STRINGS NOT LOADED":void 0===ANTRAGSGRUEN_STRINGS[a]?"@UNKNOWN CATEGORY: "+a:void 0===ANTRAGSGRUEN_STRINGS[a][t]?"@UNKNOWN STRING: "+a+" / "+t:ANTRAGSGRUEN_STRINGS[a][t]}}(jQuery);
//# sourceMappingURL=Antragsgruen.js.map
