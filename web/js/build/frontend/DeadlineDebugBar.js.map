{"version":3,"sources":["frontend/DeadlineDebugBar.js","frontend/DeadlineDebugBar.ts"],"names":["define","require","exports","Object","defineProperty","value","DeadlineDebugBar","constructor","$widget","this","csrf","find","val","on","ev","preventDefault","$","post","attr","_csrf","action","ret","window","location","assign","href","split","alert","$picker","datetimepicker","locale","data","time"],"mappings":"AAAAA,OAAO,CAAC,UAAW,YAAY,SAAUC,EAASC,GAC9C,aACAC,OAAOC,eAAeF,EAAS,aAAc,CAAEG,OAAO,IACtDH,EAAQI,sBAAmB,ECH/BJ,EAAAI,iBAAA,MACI,WAAAC,CAAoBC,GAAAC,KAAAD,QAAAA,EAChB,MAAME,EAAOF,EAAQG,KAAK,uBAAuBC,MAEjDJ,EAAQK,GAAG,UAAUC,GAAMA,EAAGC,mBAE9BP,EAAQG,KAAK,oBAAoBE,GAAG,SAAS,KACzCG,EAAEC,KAAKT,EAAQU,KAAK,UAAW,CAC3BC,MAAST,EACTU,OAAU,UACVC,IACIA,EAAa,QACbC,OAAOC,SAASC,OAAOF,OAAOC,SAASE,KAAKC,MAAM,KAAK,IAEvDC,MAAMN,EAAW,MACrB,GACF,IAGN,MAAMO,EAAUpB,EAAQG,KAAK,sBAC7BiB,EAAQC,eAAe,CACnBC,OAAQF,EAAQjB,KAAK,SAASoB,KAAK,YAGvCvB,EAAQG,KAAK,YAAYE,GAAG,SAAS,KACjC,MAAMmB,EAAOJ,EAAQjB,KAAK,SAASC,MACnCI,EAAEC,KAAKT,EAAQU,KAAK,UAAW,CAC3BC,MAAST,EACTU,OAAU,UACVY,KAAQA,IACRX,IACIA,EAAa,QACbC,OAAOC,SAASC,OAAOF,OAAOC,SAASE,KAAKC,MAAM,KAAK,IAEvDC,MAAMN,EAAW,MACrB,GACF,GAEV,EDMJ","file":"DeadlineDebugBar.js","sourcesContent":[null,"export class DeadlineDebugBar {\n    constructor(private $widget: JQuery) {\n        const csrf = $widget.find('> input[name=_csrf]').val();\n\n        $widget.on(\"submit\", ev => ev.preventDefault());\n\n        $widget.find('.closeCol button').on(\"click\", () => {\n            $.post($widget.attr('action'), {\n                '_csrf': csrf,\n                'action': 'close'\n            }, (ret) => {\n                if (ret['success']) {\n                    window.location.assign(window.location.href.split('#')[0]);\n                } else {\n                    alert(ret['error']);\n                }\n            });\n        });\n\n        const $picker = $widget.find('#simulateAdminTime');\n        $picker.datetimepicker({\n            locale: $picker.find('input').data('locale')\n        });\n\n        $widget.find('.setTime').on(\"click\", () => {\n            const time = $picker.find('input').val();\n            $.post($widget.attr('action'), {\n                '_csrf': csrf,\n                'action': 'setTime',\n                'time': time\n            }, (ret) => {\n                if (ret['success']) {\n                    window.location.assign(window.location.href.split('#')[0])\n                } else {\n                    alert(ret['error']);\n                }\n            });\n        });\n    }\n}\n"]}