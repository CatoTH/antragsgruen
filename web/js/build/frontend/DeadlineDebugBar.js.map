{"version":3,"sources":["frontend/DeadlineDebugBar.js","frontend/DeadlineDebugBar.ts"],"names":["define","require","exports","Object","defineProperty","value","DeadlineDebugBar","constructor","$widget","this","csrf","find","val","submit","ev","preventDefault","click","$","post","attr","_csrf","action","ret","window","location","assign","href","split","alert","$picker","datetimepicker","locale","data","time"],"mappings":"AAAAA,OAAO,CAAC,UAAW,YAAY,SAAUC,EAASC,GAC9C,aACAC,OAAOC,eAAeF,EAAS,aAAc,CAAEG,OAAO,IACtDH,EAAQI,sBAAmB,ECH/BJ,EAAAI,iBAAA,MACI,WAAAC,CAAoBC,GAAAC,KAAAD,QAAAA,EAChB,MAAME,EAAOF,EAAQG,KAAK,uBAAuBC,MAEjDJ,EAAQK,QAAOC,GAAMA,EAAGC,mBAExBP,EAAQG,KAAK,oBAAoBK,OAAM,KACnCC,EAAEC,KAAKV,EAAQW,KAAK,UAAW,CAC3BC,MAASV,EACTW,OAAU,UACVC,IACIA,EAAa,QACbC,OAAOC,SAASC,OAAOF,OAAOC,SAASE,KAAKC,MAAM,KAAK,IAEvDC,MAAMN,EAAW,MACrB,GACF,IAGN,MAAMO,EAAUrB,EAAQG,KAAK,sBAC7BkB,EAAQC,eAAe,CACnBC,OAAQF,EAAQlB,KAAK,SAASqB,KAAK,YAGvCxB,EAAQG,KAAK,YAAYK,OAAM,KAC3B,MAAMiB,EAAOJ,EAAQlB,KAAK,SAASC,MACnCK,EAAEC,KAAKV,EAAQW,KAAK,UAAW,CAC3BC,MAASV,EACTW,OAAU,UACVY,KAAQA,IACRX,IACIA,EAAa,QACbC,OAAOC,SAASC,OAAOF,OAAOC,SAASE,KAAKC,MAAM,KAAK,IAEvDC,MAAMN,EAAW,MACrB,GACF,GAEV,EDMJ","file":"DeadlineDebugBar.js","sourcesContent":[null,"export class DeadlineDebugBar {\n    constructor(private $widget: JQuery) {\n        const csrf = $widget.find('> input[name=_csrf]').val();\n\n        $widget.submit(ev => ev.preventDefault());\n\n        $widget.find('.closeCol button').click(() => {\n            $.post($widget.attr('action'), {\n                '_csrf': csrf,\n                'action': 'close'\n            }, (ret) => {\n                if (ret['success']) {\n                    window.location.assign(window.location.href.split('#')[0]);\n                } else {\n                    alert(ret['error']);\n                }\n            });\n        });\n\n        const $picker = $widget.find('#simulateAdminTime');\n        $picker.datetimepicker({\n            locale: $picker.find('input').data('locale')\n        });\n        \n        $widget.find('.setTime').click(() => {\n            const time = $picker.find('input').val();\n            $.post($widget.attr('action'), {\n                '_csrf': csrf,\n                'action': 'setTime',\n                'time': time\n            }, (ret) => {\n                if (ret['success']) {\n                    window.location.assign(window.location.href.split('#')[0])\n                } else {\n                    alert(ret['error']);\n                }\n            });\n        });\n    }\n}"]}