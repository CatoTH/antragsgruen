{"version":3,"sources":["frontend/AccountEdit.ts"],"names":["AccountEdit","pwMinLen","$","data","change","this","prop","trigger","$emailExisting","length","$changeRow_1","addClass","click","ev","preventDefault","removeClass","find","focus","submit","pwd","val","pwd2","bootbox","alert","__t","replace"],"mappings":"AAAA,IAAAA,YACI,WACI,IAAIC,EAAWC,EAAE,YAAYC,KAAK,WAElCD,EAAE,uDAAuDE,OAAO,WACxDF,EAAEG,MAAMC,KAAK,WACbJ,EAAE,iDAAiDI,KAAK,YAAY,GAEpEJ,EAAE,iDAAiDI,KAAK,YAAY,KAEzEC,QAAQ,UAEX,IAAIC,EAAiBN,EAAE,qBACvB,GAA6B,GAAzBM,EAAeC,OAAa,CAC5B,IAAIC,EAAaR,EAAE,mBACnBQ,EAAWC,SAAS,UACpBT,EAAE,uBAAuBU,MAAM,SAAUC,GACrCA,EAAGC,iBACHJ,EAAWK,YAAY,UACvBP,EAAeG,SAAS,UACxBD,EAAWM,KAAK,SAASC,UAIjCf,EAAE,oBAAoBgB,OAAO,SAAUL,GACnC,IAAIM,EAAMjB,EAAE,YAAYkB,MACpBC,EAAOnB,EAAE,aAAakB,MACf,IAAPD,GAAqB,IAARE,IACTF,EAAIV,OAASR,GACbY,EAAGC,iBACHQ,QAAQC,MAAMC,IAAI,MAAO,cAAcC,QAAQ,QAASxB,KACjDkB,GAAOE,IACdR,EAAGC,iBACHQ,QAAQC,MAAMC,IAAI,MAAO,qBAO7C,IAAIxB","file":"AccountEdit.js","sourcesContent":["class AccountEdit {\n    constructor() {\n        let pwMinLen = $(\"#userPwd\").data(\"min-len\");\n\n        $('.accountDeleteForm input[name=accountDeleteConfirm]').change(function () {\n            if ($(this).prop(\"checked\")) {\n                $(\".accountDeleteForm button[name=accountDelete]\").prop(\"disabled\", false);\n            } else {\n                $(\".accountDeleteForm button[name=accountDelete]\").prop(\"disabled\", true);\n            }\n        }).trigger('change');\n\n        let $emailExisting = $('.emailExistingRow');\n        if ($emailExisting.length == 1) {\n            let $changeRow = $('.emailChangeRow');\n            $changeRow.addClass('hidden');\n            $(\".requestEmailChange\").click(function (ev) {\n                ev.preventDefault();\n                $changeRow.removeClass(\"hidden\");\n                $emailExisting.addClass(\"hidden\");\n                $changeRow.find(\"input\").focus();\n            });\n        }\n\n        $('.userAccountForm').submit(function (ev) {\n            let pwd = $(\"#userPwd\").val(),\n                pwd2 = $(\"#userPwd2\").val();\n            if (pwd != '' || pwd2 != '') {\n                if (pwd.length < pwMinLen) {\n                    ev.preventDefault();\n                    bootbox.alert(__t(\"std\", \"pw_x_chars\").replace(/%NUM%/, pwMinLen));\n                } else if (pwd != pwd2) {\n                    ev.preventDefault();\n                    bootbox.alert(__t(\"std\", \"pw_no_match\"));\n                }\n            }\n        });\n    }\n}\n\nnew AccountEdit();\n"]}