{"version":3,"sources":["frontend/LoginForm.ts"],"names":["LoginForm","constructor","$form","$","pwMinLen","parseInt","data","find","on","this","prop","removeClass","attr","__t","replace","toString","addClass","removeAttr","trigger","ev","pwd","val","length","preventDefault","bootbox","alert"],"mappings":"AAAA,MAAMA,UACF,WAAAC,GACI,IAAIC,EAAQC,EAAE,yBACVC,EAAWC,SAASF,EAAE,kBAAkBG,KAAK,WAAsB,IACvEJ,EAAMK,KAAK,6BAA6BC,GAAG,UAAU,WAC7CL,EAAEM,MAAMC,KAAK,YACbP,EAAE,eAAeQ,YAAY,UAC7BR,EAAE,YAAYQ,YAAY,UAAUJ,KAAK,SAASK,KAAK,WAAY,YACnET,EAAE,kBAAkBS,KAAK,cAAeC,IAAI,MAAO,kBAAkBC,QAAQ,QAASV,EAASW,SAAS,MACxGZ,EAAE,cAAcQ,YAAY,UAC5BR,EAAE,aAAaa,SAAS,UACxBb,EAAE,oBAAoBQ,YAAY,UAClCR,EAAE,oBAAoBI,KAAK,SAASK,KAAK,WAAY,YACrDT,EAAE,uBAAuBQ,YAAY,YAErCR,EAAE,eAAea,SAAS,UAC1Bb,EAAE,YAAYa,SAAS,UAAUT,KAAK,SAASU,WAAW,YAC1Dd,EAAE,kBAAkBS,KAAK,cAAe,IACxCT,EAAE,cAAca,SAAS,UACzBb,EAAE,aAAaQ,YAAY,UAC3BR,EAAE,oBAAoBa,SAAS,UAC/Bb,EAAE,oBAAoBI,KAAK,SAASU,WAAW,YAC/Cd,EAAE,uBAAuBa,SAAS,UAE1C,IAAGE,QAAQ,UACXhB,EAAMM,GAAG,UAAWW,IAChB,IAAIC,EAAMjB,EAAE,kBAAkBkB,MAC1BD,EAAIE,OAASlB,GAAYF,EAAMK,KAAK,6BAA6BG,KAAK,aACtES,EAAGI,iBACHC,QAAQC,MAAMZ,IAAI,MAAO,cAAcC,QAAQ,QAASV,EAASW,SAAS,OAE1Eb,EAAMK,KAAK,6BAA6BG,KAAK,YACzCU,GAAOjB,EAAE,oBAAoBkB,QAC7BF,EAAGI,iBACHC,QAAQC,MAAMZ,IAAI,MAAO,gBAEjC,GAER,EAGJ,IAAIb","file":"LoginForm.js","sourcesContent":["class LoginForm {\n    constructor() {\n        let $form = $(\"#usernamePasswordForm\"),\n            pwMinLen = parseInt($(\"#passwordInput\").data(\"min-len\") as string, 10);\n        $form.find(\"input[name=createAccount]\").on(\"change\", function () {\n            if ($(this).prop(\"checked\")) {\n                $(\"#pwdConfirm\").removeClass('hidden');\n                $(\"#regName\").removeClass('hidden').find(\"input\").attr(\"required\", \"required\");\n                $(\"#passwordInput\").attr(\"placeholder\", __t(\"std\", \"pw_min_x_chars\").replace(/%NUM%/, pwMinLen.toString(10)));\n                $(\"#createStr\").removeClass('hidden');\n                $(\"#loginStr\").addClass('hidden');\n                $(\"#regConfirmation\").removeClass('hidden');\n                $(\"#regConfirmation\").find(\"input\").attr(\"required\", \"required\");\n                $(\".managedAccountHint\").removeClass('hidden');\n            } else {\n                $(\"#pwdConfirm\").addClass('hidden');\n                $(\"#regName\").addClass('hidden').find(\"input\").removeAttr(\"required\");\n                $(\"#passwordInput\").attr(\"placeholder\", \"\");\n                $(\"#createStr\").addClass('hidden');\n                $(\"#loginStr\").removeClass('hidden');\n                $(\"#regConfirmation\").addClass('hidden');\n                $(\"#regConfirmation\").find(\"input\").removeAttr(\"required\");\n                $(\".managedAccountHint\").addClass('hidden');\n            }\n        }).trigger(\"change\");\n        $form.on(\"submit\", (ev) => {\n            let pwd = $(\"#passwordInput\").val() as string;\n            if (pwd.length < pwMinLen && $form.find(\"input[name=createAccount]\").prop(\"checked\")) {\n                ev.preventDefault();\n                bootbox.alert(__t(\"std\", \"pw_x_chars\").replace(/%NUM%/, pwMinLen.toString(10)));\n            }\n            if ($form.find(\"input[name=createAccount]\").prop(\"checked\")) {\n                if (pwd != $(\"#passwordConfirm\").val()) {\n                    ev.preventDefault();\n                    bootbox.alert(__t(\"std\", \"pw_no_match\"));\n                }\n            }\n        });\n    }\n}\n\nnew LoginForm();\n"]}