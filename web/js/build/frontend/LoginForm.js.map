{"version":3,"sources":["frontend/LoginForm.ts"],"names":["LoginForm","$form","$","pwMinLen","data","find","change","this","prop","removeClass","attr","__t","replace","addClass","removeAttr","trigger","submit","ev","pwd","val","length","preventDefault","bootbox","alert"],"mappings":"AAAA,IAAAA,UACI,WACI,IAAIC,EAAQC,EAAE,yBACVC,EAAWD,EAAE,kBAAkBE,KAAK,WACxCH,EAAMI,KAAK,6BAA6BC,OAAO,WACvCJ,EAAEK,MAAMC,KAAK,YACbN,EAAE,eAAeO,YAAY,UAC7BP,EAAE,YAAYO,YAAY,UAAUJ,KAAK,SAASK,KAAK,WAAY,YACnER,EAAE,kBAAkBQ,KAAK,cAAeC,IAAI,MAAO,kBAAkBC,QAAQ,QAAST,IACtFD,EAAE,cAAcO,YAAY,UAC5BP,EAAE,aAAaW,SAAS,YAExBX,EAAE,eAAeW,SAAS,UAC1BX,EAAE,YAAYW,SAAS,UAAUR,KAAK,SAASS,WAAW,YAC1DZ,EAAE,kBAAkBQ,KAAK,cAAe,IACxCR,EAAE,cAAcW,SAAS,UACzBX,EAAE,aAAaO,YAAY,aAEhCM,QAAQ,UACXd,EAAMe,OAAO,SAAUC,GACnB,IAAIC,EAAMhB,EAAE,kBAAkBiB,MAC1BD,EAAIE,OAASjB,IACbc,EAAGI,iBACHC,QAAQC,MAAMZ,IAAI,MAAO,cAAcC,QAAQ,QAAST,KAExDF,EAAMI,KAAK,6BAA6BG,KAAK,YACzCU,GAAOhB,EAAE,oBAAoBiB,QAC7BF,EAAGI,iBACHC,QAAQC,MAAMZ,IAAI,MAAO,oBAO7C,IAAIX","file":"LoginForm.js","sourcesContent":["class LoginForm {\n    constructor() {\n        let $form = $(\"#usernamePasswordForm\"),\n            pwMinLen = $(\"#passwordInput\").data(\"min-len\");\n        $form.find(\"input[name=createAccount]\").change(function () {\n            if ($(this).prop(\"checked\")) {\n                $(\"#pwdConfirm\").removeClass('hidden');\n                $(\"#regName\").removeClass('hidden').find(\"input\").attr(\"required\", \"required\");\n                $(\"#passwordInput\").attr(\"placeholder\", __t(\"std\", \"pw_min_x_chars\").replace(/%NUM%/, pwMinLen));\n                $(\"#createStr\").removeClass('hidden');\n                $(\"#loginStr\").addClass('hidden');\n            } else {\n                $(\"#pwdConfirm\").addClass('hidden');\n                $(\"#regName\").addClass('hidden').find(\"input\").removeAttr(\"required\");\n                $(\"#passwordInput\").attr(\"placeholder\", \"\");\n                $(\"#createStr\").addClass('hidden');\n                $(\"#loginStr\").removeClass('hidden');\n            }\n        }).trigger(\"change\");\n        $form.submit(function (ev) {\n            let pwd = $(\"#passwordInput\").val();\n            if (pwd.length < pwMinLen) {\n                ev.preventDefault();\n                bootbox.alert(__t(\"std\", \"pw_x_chars\").replace(/%NUM%/, pwMinLen));\n            }\n            if ($form.find(\"input[name=createAccount]\").prop(\"checked\")) {\n                if (pwd != $(\"#passwordConfirm\").val()) {\n                    ev.preventDefault();\n                    bootbox.alert(__t(\"std\", \"pw_no_match\"));\n                }\n            }\n        });\n    }\n}\n\nnew LoginForm();\n"]}