define(["require","exports"],(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProposedProcedureOverview=void 0;e.ProposedProcedureOverview=class{constructor(t){this.$widget=t,this.interval=null,this.initUpdateWidget()}reload(){$.get(this.updateUrl,(t=>{t.success?(this.$dateField.text(t.date),this.$proposalList.html(t.html)):t.error&&alert(t.error)}))}startInterval(){null===this.interval&&(this.interval=window.setInterval(this.reload.bind(this),1e4))}stopInterval(){null!==this.interval&&(window.clearInterval(this.interval),this.interval=null)}initUpdateWidget(){this.$updateWidget=this.$widget.find(".autoUpdateWidget"),this.$proposalList=this.$widget.find(".reloadContent"),this.$dateField=this.$widget.find(".currentDate .date"),this.updateUrl=this.$widget.data("reload-url");let t=this.$updateWidget.find("#autoUpdateToggle");t.on("change",(()=>{t.prop("checked")?(this.reload(),this.startInterval()):this.stopInterval()})).trigger("change")}}}));
//# sourceMappingURL=ProposedProcedureOverview.js.map
