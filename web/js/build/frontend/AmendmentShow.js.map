{"version":3,"sources":["frontend/AmendmentShow.ts"],"names":["AmendmentShow","MotionInitiatorShow","$","submit","this","delSubmit","bind","click","shareLinkClicked","s","location","hash","split","length","scrollintoview","top_offset","prototype","ev","preventDefault","form","target","bootbox","confirm","__t","result","currentTarget","attr","window","open"],"mappings":"yIAiCA,IA/BA,WACI,SAAAA,IACI,IAAIC,oBAEJC,EAAE,gBAAgBC,OAAOC,KAAKC,UAAUC,KAAKF,OAC7CF,EAAE,oBAAoBK,MAAMH,KAAKI,iBAAiBF,KAAKF,OAEvD,IAAIK,EAAcC,SAASC,KAAKC,MAAM,SACtB,GAAZH,EAAEI,QACFX,EAAE,WAAaO,EAAE,IAAIK,gBAAgBC,YAAa,MAoB9D,OAhBYf,EAAAgB,UAAAX,UAAR,SAAkBY,GACdA,EAAGC,iBACH,IAAIC,EAAeF,EAAGG,OACtBC,QAAQC,QAAQC,IAAI,MAAO,eAAgB,SAAUC,GAC7CA,GACAL,EAAKhB,YAKTH,EAAAgB,UAAAR,iBAAR,SAAyBS,GACrB,IAAIG,EAAiBlB,EAAEe,EAAGQ,eAAeC,KAAK,QAC1CC,OAAOC,KAAKR,EAAQ,SAAU,yBAC9BH,EAAGC,kBAGflB,EA7BA","file":"AmendmentShow.js","sourcesContent":["import '../shared/MotionInitiatorShow';\n\nclass AmendmentShow {\n    constructor() {\n        new MotionInitiatorShow();\n\n        $(\"form.delLink\").submit(this.delSubmit.bind(this));\n        $(\".share_buttons a\").click(this.shareLinkClicked.bind(this));\n\n        let s: string[] = location.hash.split('#comm');\n        if (s.length == 2) {\n            $('#comment' + s[1]).scrollintoview({top_offset: -100});\n        }\n    }\n\n    private delSubmit(ev) {\n        ev.preventDefault();\n        let form: JQuery = ev.target;\n        bootbox.confirm(__t(\"std\", \"del_confirm\"), function (result) {\n            if (result) {\n                form.submit();\n            }\n        });\n    }\n\n    private shareLinkClicked(ev) {\n        let target: string = $(ev.currentTarget).attr(\"href\");\n        if (window.open(target, '_blank', 'width=600,height=460')) {\n            ev.preventDefault();\n        }\n    }\n}\n\nnew AmendmentShow();\n"]}