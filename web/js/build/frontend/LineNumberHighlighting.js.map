{"version":3,"sources":["frontend/LineNumberHighlighting.js","frontend/LineNumberHighlighting.ts"],"names":["define","require","exports","Object","defineProperty","value","LineNumberHighlighting","constructor","$panel","$","$lineInput","find","panelIsOpen","window","addEventListener","ev","charCode","$target","target","is","parents","length","addClass","focus","setTimeout","val","key","on","preventDefault","lineNumber","removeClass","$lineNumber","scrollintoview","top_offset"],"mappings":"AAAAA,OAAO,CAAC,UAAW,YAAY,SAAUC,EAASC,GAC9C,aACAC,OAAOC,eAAeF,EAAS,aAAc,CAAEG,OAAO,IACtDH,EAAQI,4BAAyB,ECHrCJ,EAAAI,uBAAA,MACIC,cACI,IAAIC,EAASC,EAAE,uBACXC,EAAaF,EAAOG,KAAK,0BACzBC,GAAc,EAClBC,OAAOC,iBAAiB,YAAaC,IACjC,IAAKH,GAAeG,EAAGC,UAAY,IAAMD,EAAGC,UAAY,GAAI,CACxD,IAAIC,EAAUR,EAAEM,EAAGG,QACnB,GAAID,EAAQE,GAAG,oBAAsBF,EAAQG,QAAQ,mBAAmBC,OAAS,EAE7E,OAGJb,EAAOc,SAAS,UAChBV,GAAc,EACdF,EAAWa,QACXV,OAAOW,YAAW,KACdd,EAAWe,IAAIV,EAAGW,OACnB,GAEHd,GACAJ,EAAOG,KAAK,uBAAuBW,SAAS,aAGpDd,EAAOmB,GAAG,UAAWZ,IACjBA,EAAGa,iBACH,IAAIC,EAAanB,EAAWe,MAC5B,GAAmB,KAAfI,EAGA,OAFArB,EAAOsB,YAAY,eACnBlB,GAAc,GAIlB,IAAImB,EAActB,EAAE,gCAAkCoB,EAAa,KACxC,IAAvBE,EAAYV,QAIhBb,EAAOsB,YAAY,UACnBlB,GAAc,EAEdmB,EAAYC,eAAe,CAACC,YAAa,MACzCF,EAAYT,SAAS,eACrBT,OAAOW,YAAW,KACdO,EAAYT,SAAS,wBACtB,IACHT,OAAOW,YAAW,KACdO,EAAYD,YAAY,wBACzB,KACHjB,OAAOW,YAAW,KACdO,EAAYD,YAAY,iBACzB,OAhBCtB,EAAOG,KAAK,uBAAuBmB,YAAY","file":"LineNumberHighlighting.js","sourcesContent":[null,"export class LineNumberHighlighting {\n    constructor() {\n        let $panel = $(\".gotoLineNumerPanel\"),\n            $lineInput = $panel.find(\"input[name=lineNumber]\"),\n            panelIsOpen = false;\n        window.addEventListener('keypress', (ev) => {\n            if (!panelIsOpen && ev.charCode >= 48 && ev.charCode <= 57) {\n                let $target = $(ev.target);\n                if ($target.is('input, textarea') || $target.parents('input, textarea').length > 0) {\n                    // Typing in an input field, like comments\n                    return;\n                }\n\n                $panel.addClass(\"active\");\n                panelIsOpen = true;\n                $lineInput.focus();\n                window.setTimeout(() => {\n                    $lineInput.val(ev.key);\n                }, 1);\n            }\n            if (panelIsOpen) {\n                $panel.find('.lineNumberNotFound').addClass('hidden');\n            }\n        });\n        $panel.on('submit', (ev) => {\n            ev.preventDefault();\n            let lineNumber = $lineInput.val();\n            if (lineNumber === '') {\n                $panel.removeClass(\"active\");\n                panelIsOpen = false;\n                return;\n            }\n\n            let $lineNumber = $(\".lineNumber[data-line-number=\" + lineNumber + \"]\");\n            if ($lineNumber.length === 0) {\n                $panel.find('.lineNumberNotFound').removeClass('hidden');\n                return;\n            }\n            $panel.removeClass(\"active\");\n            panelIsOpen = false;\n\n            $lineNumber.scrollintoview({top_offset: -100});\n            $lineNumber.addClass(\"highlighted\");\n            window.setTimeout(() => {\n                $lineNumber.addClass(\"highlighted-active\");\n            }, 50);\n            window.setTimeout(() => {\n                $lineNumber.removeClass(\"highlighted-active\");\n            }, 2000);\n            window.setTimeout(() => {\n                $lineNumber.removeClass(\"highlighted\");\n            }, 2500);\n        });\n    }\n}"]}