class AdminIndex{constructor(){this.initDelSite(),this.initUpdates()}initDelSite(){let t=$(".delSiteCaller");t.find("button").on("click",(function(e){e.preventDefault();let i=$(this);bootbox.confirm(__t("admin","consDeleteConfirm"),(function(e){if(e){let e=$('<input type="hidden">').attr("name",i.attr("name")).attr("value",i.attr("value"));t.append(e),t.trigger("submit")}}))}))}onSubmitGotoUpdateForm(t,e){e&&(e.confirmed,1)&&!0===e.confirmed||(t.preventDefault(),bootbox.confirm({message:__t("admin","gotoUpdateModeConfirm"),callback:t=>{t&&$(".adminCardUpdates .updateForm").trigger("submit",{confirmed:!0})}}))}initUpdates(){let t=$(".adminCardUpdates main");$.get(t.data("src"),(function(e){t.html(e)})),t.on("click",".showChanges",(t=>{$(t.currentTarget).parents("li").first().find(".changes").toggleClass("hidden")})),t.on("submit",".updateForm",this.onSubmitGotoUpdateForm)}}new AdminIndex;
//# sourceMappingURL=AdminIndex.js.map
