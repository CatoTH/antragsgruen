define(["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AgendaEditVue=void 0;t.AgendaEditVue=class{constructor(e){this.element=e[0],this.createVueWidget()}createVueWidget(){const e=this.element.querySelector(".agendaEdit");let t;const a=JSON.parse(this.element.getAttribute("data-agenda")),n=JSON.parse(this.element.getAttribute("data-motion-types")),d=this.element.getAttribute("data-save-agenda-url"),i=document.querySelector("head meta[name=csrf-token]").getAttribute("content");this.widget=Vue.createApp({template:'<div class="agendaEditHolder">\n                <agenda-edit-widget\n                    v-model="agenda"\n                    :motionTypes="motionTypes"\n                    ref="agenda-edit-widget"\n                    @saveAgenda="onSaveAgenda()"\n                ></agenda-edit-widget>\n            </div>',data:()=>({agenda:a,motionTypes:n}),methods:{onSaveAgenda(){const e=this;$.ajax({url:d,type:"POST",data:JSON.stringify(this.agenda),processData:!1,contentType:"application/json; charset=utf-8",dataType:"json",headers:{"X-CSRF-Token":i},success:t=>{t.error?bootbox.alert(t.error):(e.agenda=t,e.$refs["agenda-edit-widget"].onSaved())}}).catch((function(e){bootbox.alert(e.responseText)}))}}}),this.widget.config.compilerOptions.whitespace="condense",window.__initVueComponents(this.widget,"agenda"),t=this.widget.mount(e),window.agendaWidget=t}}}));
//# sourceMappingURL=AgendaEditVue.js.map
