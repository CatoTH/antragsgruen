{"version":3,"sources":["backend/ConsultationCreate.ts"],"names":["ConsultationCreate","constructor","$","find","on","settingsTypeChanged","trigger","$consultationEditForm","ev","preventDefault","$button","this","bootbox","confirm","__t","result","$input","attr","append","SiteCreateWizard","document","getElementById","checked","console","log","querySelector","classList","remove","querySelectorAll","forEach","el","add"],"mappings":"MAAO,oCAID,MAAOA,mBACT,WAAAC,GACIC,EAAE,iBAAiBC,KAAK,qBAAqBC,GAAG,SAAUJ,mBAAmBK,qBAAqBC,QAAQ,UAE1G,IAAIC,EAAwBL,EAAE,yBAC9BK,EAAsBJ,KAAK,kBAAkBC,GAAG,QAAS,SAAUI,GAC/DA,EAAGC,iBACH,IAAIC,EAAUR,EAAES,MAChBC,QAAQC,QAAQC,IAAI,QAAS,qBAAsB,SAAUC,GACzD,GAAIA,EAAQ,CACR,IAAIC,EAASd,EAAE,yBAAyBe,KAAK,OAAQP,EAAQO,KAAK,SAASA,KAAK,QAASP,EAAQO,KAAK,UACtGV,EAAsBW,OAAOF,GAC7BT,EAAsBD,QAAQ,SAClC,CACJ,EACJ,GAEA,IAAIa,iBAAiBjB,EAAE,eAC3B,CAEQ,0BAAOG,GACNe,SAASC,eAAe,sBAA2CC,SACpEC,QAAQC,IAAI,WACZJ,SAASK,cAAc,uBAAuBC,UAAUC,OAAO,UAC/DP,SAASQ,iBAAiB,yBAAyBC,QAAQC,GAAMA,EAAGJ,UAAUK,IAAI,WAClFX,SAASK,cAAc,sBAAsBC,UAAUK,IAAI,YAE3DX,SAASK,cAAc,uBAAuBC,UAAUK,IAAI,UAC5DX,SAASQ,iBAAiB,yBAAyBC,QAAQC,GAAMA,EAAGJ,UAAUC,OAAO,WACrFP,SAASK,cAAc,sBAAsBC,UAAUC,OAAO,UAEtE,EAGJ,IAAI3B","file":"ConsultationCreate.js","sourcesContent":["import \"../shared/SiteCreateWizard\";\n\ndeclare let __t: any;\n\nexport class ConsultationCreate {\n    constructor() {\n        $(\".settingsType\").find(\"input[type=radio]\").on(\"change\", ConsultationCreate.settingsTypeChanged).trigger(\"change\");\n\n        let $consultationEditForm = $(\".consultationEditForm\");\n        $consultationEditForm.find(\".delbox button\").on(\"click\", function (ev) {\n            ev.preventDefault();\n            let $button = $(this);\n            bootbox.confirm(__t('admin', 'consDeleteConfirm'), function (result) {\n                if (result) {\n                    let $input = $('<input type=\"hidden\">').attr(\"name\", $button.attr(\"name\")).attr(\"value\", $button.attr(\"value\"));\n                    $consultationEditForm.append($input);\n                    $consultationEditForm.trigger(\"submit\");\n                }\n            });\n        });\n\n        new SiteCreateWizard($(\".siteCreate\"));\n    }\n\n    private static settingsTypeChanged(): void {\n        if ((document.getElementById('settingsTypeWizard') as HTMLInputElement).checked) {\n            console.log(\"checked\");\n            document.querySelector('.settingsTypeWizard').classList.remove('hidden');\n            document.querySelectorAll('.settingsTypeTemplate').forEach(el => el.classList.add('hidden'));\n            document.querySelector('.templateSubselect').classList.add('hidden');\n        } else {\n            document.querySelector('.settingsTypeWizard').classList.add('hidden');\n            document.querySelectorAll('.settingsTypeTemplate').forEach(el => el.classList.remove('hidden'));\n            document.querySelector('.templateSubselect').classList.remove('hidden');\n        }\n    }\n}\n\nnew ConsultationCreate();\n"]}