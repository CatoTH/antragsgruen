{"version":3,"sources":["backend/ProposedProcedureExport.js","backend/ProposedProcedureExport.ts"],"names":["define","require","exports","Object","defineProperty","value","ProposedProcedureExport","constructor","$widget","this","initExportRow","recalcLinks","withdrawn","find","prop","onlyPublic","each","ev","el","link","$","data","replace","attr","on","stopPropagation","bind","trigger"],"mappings":"AAAAA,OAAO,CAAC,UAAW,WAAY,SAAUC,EAASC,GAC9C,aACAC,OAAOC,eAAeF,EAAS,aAAc,CAAEG,OAAO,IACtDH,EAAQI,6BAA+B,ECH3CJ,EAAAI,wBAAA,MACI,WAAAC,CAAoBC,GAAAC,KAAAD,QAAAA,EAChBC,KAAKC,eACT,CAEQ,WAAAC,GACJ,IAAIC,EAAaH,KAAKD,QAAQK,KAAK,wBAAwBC,KAAK,WAAa,EAAI,EAC7EC,EAAcN,KAAKD,QAAQK,KAAK,0BAA0BC,KAAK,WAAa,EAAI,EACpFL,KAAKD,QAAQK,KAAK,aAAaG,KAAK,CAACC,EAAIC,KACrC,IAAIC,EAAOC,EAAEF,GAAIG,KAAK,YACtBF,EAAOA,EAAKG,QAAQ,WAAYV,GAChCO,EAAOA,EAAKG,QAAQ,aAAcP,GAClCK,EAAEF,GAAIK,KAAK,OAAQJ,IAE3B,CAEQ,aAAAT,GACJD,KAAKD,QAAQK,KAAK,eAAeW,GAAG,QAAS,SAAUP,GACnDA,EAAGQ,iBACP,GACAhB,KAAKD,QAAQK,KAAK,wBAAwBW,GAAG,SAAUf,KAAKE,YAAYe,KAAKjB,OAAOkB,QAAQ,SAChG,EDMJ","file":"ProposedProcedureExport.js","sourcesContent":[null,"export class ProposedProcedureExport {\n    constructor(private $widget: JQuery) {\n        this.initExportRow();\n    }\n\n    private recalcLinks() {\n        let withdrawn = (this.$widget.find(\"input[name=comments]\").prop(\"checked\") ? 1 : 0);\n        let onlyPublic = (this.$widget.find(\"input[name=onlypublic]\").prop(\"checked\") ? 1 : 0);\n        this.$widget.find(\"a.odsLink\").each((ev, el) => {\n            let link = $(el).data(\"href-tpl\");\n            link = link.replace(\"COMMENTS\", withdrawn);\n            link = link.replace(\"ONLYPUBLIC\", onlyPublic);\n            $(el).attr(\"href\", link);\n        });\n    }\n\n    private initExportRow() {\n        this.$widget.find(\"li.checkbox\").on(\"click\", function (ev) {\n            ev.stopPropagation();\n        });\n        this.$widget.find(\"input[type=checkbox]\").on(\"change\", this.recalcLinks.bind(this)).trigger(\"change\");\n    }\n}\n"]}