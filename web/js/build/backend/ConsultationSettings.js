define(["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsultationSettings=void 0;t.ConsultationSettings=class{constructor(e){this.$form=e,this.element=e[0],this.initUrlPath(),this.initTags(),this.initAdminMayEdit(),this.initSingleMotionMode(),this.initConPwd(),$('[data-toggle="tooltip"]').tooltip()}initUrlPath(){$(".urlPathHolder .shower a").on("click",(e=>{e.preventDefault(),$(".urlPathHolder .shower").addClass("hidden"),$(".urlPathHolder .holder").removeClass("hidden")}))}initSingleMotionMode(){$("#singleMotionMode").on("change",(function(){$(this).prop("checked")?$("#forceMotionRow").removeClass("hidden"):$("#forceMotionRow").addClass("hidden")})).trigger("change")}initAdminMayEdit(){let e=$("#adminsMayEdit"),t=$("#iniatorsMayEdit").parents("label").first().parent();e.on("change",(function(){if($(this).prop("checked"))t.removeClass("hidden");else{let i=__t("admin","adminMayEditConfirm");bootbox.confirm(i,(function(i){i?(t.addClass("hidden"),t.find("input").prop("checked",!1)):e.prop("checked",!0)}))}})),e.prop("checked")||t.addClass("hidden")}initTags(){const e=this.$form.find("#tagsEditForm"),t=e.find(".newTagRowTemplate").remove(),i=e.find(".editList");Sortable.create(i[0],{handle:".drag-handle",animation:150}),e.find(".adderRow button").on("click",(()=>{const e=t.clone();i.append(e),window.setTimeout((()=>{e.find("input").focus()}),100)})),i.on("click",".remover",(function(t){let i=$(this).parents("li").first();t.preventDefault(),i.data("has-imotions")?bootbox.confirm(e.data("delete-warnings"),(function(e){e&&i.remove()})):i.remove()}))}initConPwd(){const e=this.element.querySelector(".conpw");if(!e)return;const t=e.querySelector(".setter input[type=checkbox]"),i=()=>{t.checked?e.classList.add("checked"):e.classList.remove("checked")};t.addEventListener("change",i),i(),e.querySelector(".setNewPassword").addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation(),e.classList.add("changePwd")}))}}}));
//# sourceMappingURL=ConsultationSettings.js.map
