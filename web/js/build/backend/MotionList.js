define(["require","exports","./ResponsibilitySetter"],(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MotionList=void 0;e.MotionList=class{constructor(){this.initList(),this.initExportRow(),new i.ResponsibilitySetter($(".adminMotionTable"))}initList(){$(".markAll").on("click",(t=>{$(".adminMotionTable").find("input.selectbox").prop("checked",!0),t.preventDefault()})),$(".markNone").on("click",(t=>{$(".adminMotionTable").find("input.selectbox").prop("checked",!1),t.preventDefault()})),$(".deleteMarkedBtn").on("click",this.onDeleteClicked.bind(this));let t=$("#initiatorSelect"),e=t.data("values"),i=[{name:"supporter",source:function(t,i){let n,o;n=[],o=new RegExp(t,"i"),$.each(e,(function(t,e){o.test(e)&&n.push(e)})),i(n)}}];t.typeahead({hint:!0,highlight:!0,minLength:1},i),$(".adminMotionTable").colResizable({liveDrag:!0,postbackSafe:!0,minWidth:30})}initExportRow(){let t=$(".motionListExportRow");t.find("li.checkbox").on("click",(function(t){t.stopPropagation()})),t.on("click","a.disabled",(function(t){t.preventDefault(),t.stopPropagation()})),t.find(".exportMotionDd, .exportAmendmentDd").each((function(){let t=$(this);t.find("input[type=checkbox]").on("change",(function(){const e=t.find("input[name=inactive]").prop("checked")?1:0,i=[];t.find("input[name=motionType]:checked").each((function(){i.push($(this).val())})),t.find(".exportLink a").each((function(){let t=$(this).data("href-tpl");0===i.length&&-1!==t.indexOf("MOTIONTYPES")?this.classList.add("disabled"):this.classList.remove("disabled"),t=t.replace("INACTIVE",e),t=t.replace("MOTIONTYPES",i.join(",")),$(this).attr("href",t)}))})).trigger("change")})),t.find('[data-toggle="tooltip"]').tooltip()}onDeleteClicked(t){t.preventDefault();let e=$(t.target),i=e.parents("form");bootbox.confirm(__t("std","del_confirm"),(function(t){if(t){let t=$('<input type="hidden">').attr("name",e.attr("name")).attr("value",e.attr("value"));i.append(t),i.trigger("submit")}}))}}}));
//# sourceMappingURL=MotionList.js.map
